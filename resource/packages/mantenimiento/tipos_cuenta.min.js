var TIPOS_CUENTA=TIPOS_CUENTA||{};TIPOS_CUENTA.tipo_cuenta=function(t){"use strict";var e=t("table#tb_tipos_cuenta"),i=function(){t("#btn_search").on("click",function(){e.bootstrapTable("refresh")})},n=function(){var i=t.extend(!0,{},t.extend(!0,{},MPC.config).bootstrapTable);i.idField="ID_CUENTA",i.search=!1,i.url=Request.BaseUrl+"/mantenimiento/tiposcuenta/list",i.queryParams=function(e){return e.filter_type=t("#cbo_filter_type").val(),e.filter_value=t("#txt_filter_value").val(),e.filter_year=t("#txt_filter_year").val(),e},i.columns=[{field:"INDICADOR_CUENTA",title:"INDICADOR",align:"center",sortable:!0,width:"50px"},{field:"DESCRIPCION_CUENTA",title:"DESCRIPCIÃ“N",align:"center",sortable:!0,width:"*"},{field:"action",title:" ACCIONES",align:"center",width:"100px",formatter:o,events:{"click .edit":s}}],e.bootstrapTable(i)},o=function(t,e){var i='<button id="btn-edit-'+e.ID_CUENTA+'" class="btn-actions edit btn btn-xs btn-complete" data-id="'+e.ID_CUENTA+'" title="Editar Registro"><i class="fa fa-edit"></i></button>&nbsp;';return i},a=function(){t("#btn_new_tipo_cuenta").on("click",function(){t.post(Request.BaseUrl+"/mantenimiento/tiposcuenta/tipocuenta",{},function(t){bootbox.dialog({closeButton:!1,message:t.layer}),r()},"json")})},s=function(e,i,n){t.post(Request.BaseUrl+"/mantenimiento/tiposcuenta/tipocuenta",{id:n.ID_CUENTA},function(t){bootbox.dialog({closeButton:!1,message:t.layer}),r()},"json")},r=function(){c(),t("#btn_close").on("click",function(){bootbox.hideAll()}),t("#txt_tipo_cuenta_indicador").on("keyup",function(){t.post(Request.BaseUrl+"/mantenimiento/tiposcuenta/validateindicador",{name:t("#txt_tipo_cuenta_indicador").val(),id:t("#txt_tipo_cuenta_id").val()},function(e){e.STATE?t("#lb_indicador_error").removeClass("hidden"):t("#lb_indicador_error").addClass("hidden")},"json")}),t("#txt_tipo_cuenta_descripcion").on("keyup",function(){t.post(Request.BaseUrl+"/mantenimiento/tiposcuenta/validatedescripcion",{name:t("#txt_tipo_cuenta_descripcion").val(),id:t("#txt_tipo_cuenta_id").val()},function(e){e.STATE?t("#lb_descripcion_error").removeClass("hidden"):t("#lb_descripcion_error").addClass("hidden")},"json")}),t("#frm_tipo_cuenta").on("submit",function(){return t("#lb_indicador_error").hasClass("hidden")&&t("#lb_descripcion_error").hasClass("hidden")?(t("#dv_save").html('Guardando... por favor espere<br><img class="image-responsive-height demo-mw-50" src="/ggdelc/themes/01//img/demo/progress.svg" alt="Progress">'),t.post(Request.BaseUrl+"/mantenimiento/tiposcuenta/save",t("#frm_tipo_cuenta").serialize(),function(i){if(i.STATE){e.bootstrapTable("refresh"),bootbox.hideAll();var n=[];n.message='<div class="text-center"><i class="fa fa-check"></i> Datos guardados</div>',n.style="flip",n.position="top",n.type="success",n.showClose=!0,t("body").pgNotification(n).show()}else{var n=[];n.message='<div class="text-center"><i class="fa fa-warning"></i> No se pudieron guardar los datos</div>',n.style="flip",n.position="top",n.type="danger",n.showClose=!0,t(".modal-content").pgNotification(n).show(),t("#dv_save").html('<button type="button" class="btn btn-danger" id="btn_close"><i class="fa fa-close"></i> Cancelar</button><button type="submit" class="btn btn-info" id="btn_save"><i class="fa fa-save"></i> Guardar</button>')}},"json"),!1):!1})},c=function(){function e(t){var e=t.which?t.which:event.keyCode;return 45==e||32==e?!0:48>e||e>57?!1:!0}function i(t){var e=t.which?t.which:event.keyCode;return 45==e||32==e||46==e?!0:48>e||e>57?!1:!0}t(".mayusculas").keyup(function(){t(this).val(t(this).val().toUpperCase())}),t(".validar_numeros").keypress(function(t){return e(t,this)}),t(".validar_decimales").keypress(function(t){return i(t,this)})};return{init:function(){n(),i(),a()}}}(window.jQuery),function(){TIPOS_CUENTA.tipo_cuenta.init()}(window.jQuery);