var PATRIMONIO=PATRIMONIO||{};PATRIMONIO.patrimonio=function(t){"use strict";var i=(t.extend(!0,{},MPC.config),t("table#tb_patrimonios")),e=t("#denominacion"),n=t("#cod_patrimonial"),a=t("#ID_SUBGERENCIA"),o=t("#ID_RESPONSABLE"),r=t("#caracteristicas"),l=t("#btn_excel"),c=function(){t("#btnSearch").on("click",function(){i.bootstrapTable("refresh")})},s=function(){var e=t.extend(!0,{},t.extend(!0,{},MPC.config).bootstrapTable);e.idField="ID_BIEN",e.search=!1,e.url=Request.BaseUrl+"/patrimonio/principal/list",e.queryParams=function(i){return i.denominacion=t("#denominacion").val(),i.gerencia=t("#ID_SUBGERENCIA").val(),i.responsable=t("#ID_RESPONSABLE").val(),i.cod_patrimonial=t("#cod_patrimonial").val(),i.caracteristicas=t("#caracteristicas").val(),i},e.columns=[{field:"CODIGO_PATRIMONIAL_BIEN",title:"CODIGO PATRIMONIAL",align:"center",sortable:!0,width:"50px"},{field:"DENOMINACION_BEIN",title:"DENOMINACION",align:"center",sortable:!0,width:"*"},{field:"GERENCIA",title:"GERENCIA",align:"center",sortable:!0,width:"*"},{field:"RESPONSABLE",title:"RESPONSANBLE",align:"center",sortable:!0,width:"*"},{field:"OTRAS_CARACTERISTICAS_BIEN",title:"CARACTERISTICA",align:"center",sortable:!0,width:"*"},{field:"action",title:" ACCIONES",align:"center",width:"100px",formatter:d,events:{"click .edit":I}}],i.bootstrapTable(e)},d=function(t,i){var e='<button id="btn-edit-'+i.ID_BIEN+'" class="btn-actions edit btn btn-xs btn-complete" data-id="'+i.ID_BIEN+'" title="Editar Registro"><i class="fa fa-edit"></i></button>&nbsp;';return e},I=function(t,i,e){location.href=Request.BaseUrl+"/patrimonio/principal/history/id/"+e.ID_BIEN+"/token/"+e.TOKEN},u=function(){l.on("click",function(){window.open(Request.BaseUrl+"/patrimonio/excel/reporte/codigo_patrimonial/"+n.val()+"/denominacion/"+e.val()+"/unidad_organica/"+a.val()+"/responsable/"+o.val()+"/caracteristicas/"+r.val())})},E=function(){e.autocomplete({source:function(i,e){t.ajax({url:Request.BaseUrl+"/patrimonio/response/listardiagnosticos",dataType:"json",data:{term:i.term},success:function(t){e(1===t.length&&0===t[0].length?[]:t)}})},select:function(i,e){t("#val_denominacion").val(e.item.value),console.log(e.item.id)}})};return{init:function(){s(),u(),c(),E()}}}(window.jQuery),function(){PATRIMONIO.patrimonio.init()}(window.jQuery);