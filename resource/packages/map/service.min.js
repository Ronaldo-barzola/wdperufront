function reservarHotel(t){$.post(Request.BaseUrl+"/map/principal/ReservHotel",{id_hotel:t},function(t){bootbox.dialog({closeButton:!1,message:t.layer}),$("#btn_close").on("click",function(){bootbox.hideAll()}),$("#btn_save").on("click",function(){$.post(Request.BaseUrl+"/map/principal/SaveReserva",$("#frmReserva").serialize(),function(t){if(t.status===!0)bootbox.hideAll(),$.post(Request.BaseUrl+"/map/principal/print",{id_reserva:t.IDRESERVA},function(t){t.estado&&pdfMake.createPdf({content:t.content,styles:{},pageMargins:[40,40,40,40]}).download("RESERVA_HABITACION")},"json");else;},"json")})},"json")}function verCartaRestaurante(t){$.post(Request.BaseUrl+"/map/principal/CartaRestaurante",{id_restaurante:t},function(a){bootbox.dialog({closeButton:!1,message:a.layer}),$.ajax({type:"GET",contentType:"application/json; chartset=utf-8",url:ip_publica+"apiUpc/api/cartabyid/"+t,dataType:"json",success:function(t){var a="";$.each(t,function(t,e){a+="<li class='list-group-item d-flex justify-content-between align-items-center'>",a+=e.descripcion,a+="<span class='badge badge-primary badge-pill'>S/."+e.precio+"</span>",a+="</li>"}),$("#divCarta").html(a)}}),$("#btn_close").on("click",function(){bootbox.hideAll()})},"json")}var ip_interna="http://172.17.1.18:8090/",ip_publica="http://200.48.7.35:8090/",region=$("#nombre_region").val(),promise=$.ajax({type:"GET",contentType:"application/json; chartset=utf-8",url:ip_publica+"apiUpc/api/regionesnombre/"+region,dataType:"json",success:function(t){var a="",e="",s="",i="";$.each(t,function(t,n){a=n.descripcion,e=n.nombreRegion,s=n.aliasRegion,i=n.idRegion}),$("#nombreRegion").text(e.toUpperCase()),$("#aliasRegion").text(s.toUpperCase()),$("#descripcionRegion").text(a),$("#id_region").val(i)}});promise.then(function(){var t=$("#id_region").val();$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:ip_publica+"apiUpc/api/hotelesbyid/"+t,dataType:"json",success:function(t){var a="";$.each(t,function(t,e){a+="<div  class='company-stat-box m-t-15 active padding-20 bg-master-lightest'>",a+="<button type='button' class='close' data-dismiss='modal'>",a+="<i class='pg-close fs-12'></i>",a+="</button>",a+="<p class='company-name pull-left text-uppercase bold no-margin'>",a+="<span class='fa fa-circle text-success fs-11'></span> "+e.nombreHotel,a+="</p>",a+="<small class='hint-text m-l-10'>S/"+e.precio+"</small>",a+="<div class='clearfix'></div>",a+="<div class='m-t-10'>",a+="<p class='pull-left small hint-text no-margin p-t-5'>"+e.direccionHotel+"</p>",a+="<div class='pull-right'>",a+="<p class='small hint-text no-margin inline'><b>Atención</b> 11am - 9pm </p>",a+="<button type='button' onclick='reservarHotel("+e.idHotel+")' class='btn btn-success btn-xs'> Reservar</button>",a+="</div>",a+="<div class='clearfix'></div>",a+="</div>",a+="</div>"}),$("#divHospedaje").html(a)}})}),promise.then(function(){var t=$("#id_region").val();$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:ip_publica+"apiUpc/api/restaurantebyid/"+t,dataType:"json",success:function(t){var a="";$.each(t,function(t,e){a+="<div  class='company-stat-box m-t-15 active padding-20 bg-master-lightest'>",a+="<button type='button' class='close' data-dismiss='modal'>",a+="<i class='pg-close fs-12'></i>",a+="</button>",a+="<p class='company-name pull-left text-uppercase bold no-margin'>",a+="<span class='fa fa-circle text-success fs-11'></span> "+e.descripcionRestaurante,a+="</p>",a+="<small class='hint-text m-l-10'>"+e.tipoComida+"</small>",a+="<div class='clearfix'></div>",a+="<div class='m-t-10'>",a+="<p class='pull-left small hint-text no-margin p-t-5'>"+e.direccionRestaurante+"</p>",a+="<div class='pull-right'>",a+="<p class='small hint-text no-margin inline'><b>Atención</b> "+e.horarioAtencion+"</p>",a+="<button type='button' onclick='verCartaRestaurante("+e.idRestaurante+")' class='btn btn-danger btn-xs'> Ver Carta</button>",a+="</div>",a+="<div class='clearfix'></div>",a+="</div>",a+="</div>"}),$("#divRestaurante").html(a)}})}),promise.then(function(){var t=$("#id_region").val();$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:ip_publica+"apiUpc/api/turismobyid/"+t,dataType:"json",success:function(t){var a="";$.each(t,function(t,e){a+="<div  class='company-stat-box m-t-15 active padding-20 bg-master-lightest'>",a+="<button type='button' class='close' data-dismiss='modal'>",a+="<i class='pg-close fs-12'></i>",a+="</button>",a+="<p class='company-name pull-left text-uppercase bold no-margin'>",a+="<span class='fa fa-circle text-success fs-11'></span> "+e.nombreTurismo,a+="</p>",a+="<small class='hint-text m-l-10'>"+e.nombreTurismo+"</small>",a+="<div class='clearfix'></div>",a+="<div class='m-t-10'>",a+="<p class='pull-left small hint-text no-margin p-t-5'>"+e.ubicaconTurismo+"</p>",a+="<div class='clearfix'></div>",a+="</div>",a+="</div>"}),$("#divTurismo").html(a)}})});